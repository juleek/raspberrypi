syntax = "proto3";

package aggproto;

service Agg {
  rpc SendMeasurement (stream MeasurementReq) returns (stream MeasurementResp);
}


message MeasurementReq {
  Measurement measurement = 1;
  int64 counter = 2;
}

message MeasurementResp {
  int64 counter = 1;
}

message Measurement {
  string sensor = 1;
  repeated string errors = 2;
  optional double temperature = 3;
}
